(this["webpackJsonpodds-stabilizer"]=this["webpackJsonpodds-stabilizer"]||[]).push([[0],{31:function(n,e,t){n.exports=t(42)},36:function(n,e,t){},42:function(n,e,t){"use strict";t.r(e);var a=t(0),r=t.n(a),o=t(20),c=t.n(o),u=(t(36),t(26)),l=t(9),i=t(17),d=t(13),s=t(8),m=t(21),f=t(29),b=t(14),p=t(22),h=t(30),E=t(2),g=t(1),v=t(24),x=t.n(v),O=function(n,e){return Math.round(n*Math.pow(10,e))/Math.pow(10,e)},w=function(n){return O(n.amount*(n.odds.payout/n.odds.cost),2)},y=function(n,e){return n+w(e)},j=function(n){return n.reduce(y,0)};function C(){var n=Object(E.a)(["\n  padding: 4px;\n"]);return C=function(){return n},n}var k=g.a.td(C()),L=k.withComponent("th"),S=function(n){var e=n.bets,t=n.name;return 0===e.length?null:r.a.createElement("div",null,r.a.createElement("h3",null,"Bets on ",t),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement(L,null,"Cost"),r.a.createElement(L,null,"Odds"),r.a.createElement(L,null,"Payout"))),r.a.createElement("tbody",null,e.slice().reverse().map((function(n,e){return r.a.createElement("tr",{key:e},r.a.createElement(k,null,n.amount),r.a.createElement(k,null,n.odds.cost,":",n.odds.payout),r.a.createElement(k,null,"$",w(n).toFixed(2)))}))),r.a.createElement("tfoot",null,r.a.createElement("tr",null,r.a.createElement("th",{colSpan:2},"Total Payout"),r.a.createElement("td",null,"$",j(e).toFixed(2))))))};function B(){var n=Object(E.a)(["\n  background-color: transparent;\n  border: solid 1px #282c34;\n  font-size: 24px;\n  padding: 8px 32px;\n  margin: 16px;\n"]);return B=function(){return n},n}var P=g.a.button(B());function A(){var n=Object(E.a)(["\n  text-align: center;\n"]);return A=function(){return n},n}var z=g.a.div(A()),M=t(4),$=t.n(M),F=$.a.shape({cost:$.a.number.isRequired,payout:$.a.number.isRequired}),R=($.a.shape({a:F,b:F}),$.a.shape({amount:$.a.number.isRequired,odds:F}));$.a.shape({a:$.a.arrayOf(R).isRequired,b:$.a.arrayOf(R).isRequired});function q(){var n=Object(E.a)(["\n  max-width: 400px;\n  display: grid;\n  grid-template-columns: auto auto;\n"]);return q=function(){return n},n}var I=g.a.div(q()),J=function(n){return n.reduce((function(n,e){return n+e.amount}),0)},W=function(n){var e=n.betOnA,t=n.betOnB,a=n.book,o=n.odds;return r.a.createElement(I,null,r.a.createElement("p",null,o.a.cost,":",o.a.payout),r.a.createElement("p",null,o.b.cost,":",o.b.payout),r.a.createElement(P,{onClick:e},"A"),r.a.createElement(P,{onClick:t},"B"),r.a.createElement("div",null,r.a.createElement("h5",null,"Pot A"),r.a.createElement("p",null,"$",J(a.a))),r.a.createElement("div",null,r.a.createElement("h5",null,"Pot B"),r.a.createElement("p",null,"$",J(a.b))))},N=t(25);function T(){var n=Object(E.a)(["\n  background-color: #282c34;\n  min-height: 25vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: calc(10px + 2vmin);\n  color: white;\n  position: relative;\n"]);return T=function(){return n},n}var Z=g.a.header(T()),D=function(){return r.a.createElement("svg",{height:"20px",version:"1.1",viewBox:"0 0 20 20",width:"20px",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("title",null,"Settings"),r.a.createElement("g",{fill:"none",fillRule:"evenodd",id:"Page-1",stroke:"none",strokeWidth:"1"},r.a.createElement("g",{fill:"currentColor",id:"Core",transform:"translate(-464.000000, -380.000000)"},r.a.createElement("g",{id:"settings",transform:"translate(464.000000, 380.000000)"},r.a.createElement("path",{d:"M17.4,11 C17.4,10.7 17.5,10.4 17.5,10 C17.5,9.6 17.5,9.3 17.4,9 L19.5,7.3 C19.7,7.1 19.7,6.9 19.6,6.7 L17.6,3.2 C17.5,3.1 17.3,3 17,3.1 L14.5,4.1 C14,3.7 13.4,3.4 12.8,3.1 L12.4,0.5 C12.5,0.2 12.2,0 12,0 L8,0 C7.8,0 7.5,0.2 7.5,0.4 L7.1,3.1 C6.5,3.3 6,3.7 5.4,4.1 L3,3.1 C2.7,3 2.5,3.1 2.3,3.3 L0.3,6.8 C0.2,6.9 0.3,7.2 0.5,7.4 L2.6,9 C2.6,9.3 2.5,9.6 2.5,10 C2.5,10.4 2.5,10.7 2.6,11 L0.5,12.7 C0.3,12.9 0.3,13.1 0.4,13.3 L2.4,16.8 C2.5,16.9 2.7,17 3,16.9 L5.5,15.9 C6,16.3 6.6,16.6 7.2,16.9 L7.6,19.5 C7.6,19.7 7.8,19.9 8.1,19.9 L12.1,19.9 C12.3,19.9 12.6,19.7 12.6,19.5 L13,16.9 C13.6,16.6 14.2,16.3 14.7,15.9 L17.2,16.9 C17.4,17 17.7,16.9 17.8,16.7 L19.8,13.2 C19.9,13 19.9,12.7 19.7,12.6 L17.4,11 L17.4,11 Z M10,13.5 C8.1,13.5 6.5,11.9 6.5,10 C6.5,8.1 8.1,6.5 10,6.5 C11.9,6.5 13.5,8.1 13.5,10 C13.5,11.9 11.9,13.5 10,13.5 L10,13.5 Z",id:"Shape"})))))};function G(){var n=Object(E.a)(["\n  background-color: #ff0000;\n  color: white;\n  width: 100vw;\n  padding: 32px 8px;\n\n  h2 {\n    font-size: 24px;\n    margin: 0;\n  }\n\n  p {\n    font-size: 16px;\n  }\n"]);return G=function(){return n},n}function H(){var n=Object(E.a)(["\n  color: white;\n  text-decoration: none;\n  background: none;\n  border: none;\n  cursor: pointer;\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 8px;\n"]);return H=function(){return n},n}function K(){var n=Object(E.a)(["\n  margin: 0;\n"]);return K=function(){return n},n}var Q=g.a.h1(K()),U=g.a.button(H()),V=g.a.div((function(n){var e=n.open;return"\n  display: ".concat(e?"flex":"none",";\n  flex-direction: column;\n  align-items: center;\n  padding: 32px 8px;\n\n  label {\n    margin-bottom: 8px;\n  }\n\n  textarea {\n    font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace;\n    font-size: 24px;\n    background: #282c34;\n    color: white;\n    height: 25vh;\n    width: 50vw;\n  }\n")})),X=g.a.div(G()),Y="\nconst [book, { fraction, sumPayout }] = arguments\n\nif (book.a.length === 0 || book.b.length === 0) {\n  return { a: { cost: 1, payout: 1 }, b: { cost: 1, payout: 1 } } \n}\n\nconst sumAPayout = sumPayout(book.a)\nconst sumBPayout = sumPayout(book.b)\n\nconst f = fraction(sumAPayout, sumBPayout)\n\nreturn {\n  a: { cost: f.fraction.numerator, payout: f.fraction.denominator },\n  b: { cost: f.fraction.denominator, payout: f.fraction.numerator },\n}\n".trim(),_=function(n){var e=n.settings,t=n.setSettings,a=r.a.useState(!1),o=Object(s.a)(a,2),c=o[0],u=o[1],l=r.a.useState(Y),i=Object(s.a)(l,2),m=i[0],f=i[1],b=r.a.useState(null),p=Object(s.a)(b,2),h=p[0],E=p[1],g=Object(N.debounce)((function(n){try{var a=new Function(n);E(null),t(Object(d.a)({},e,{calculateOdds:a}))}catch(r){E(r)}}),1e3);return r.a.useEffect((function(){g(m)}),[m,g]),r.a.createElement(Z,null,r.a.createElement(U,{onClick:function(){return u(!c)}},r.a.createElement(D,null)),r.a.createElement(Q,null,"Odds Stabilizer"),r.a.createElement(V,{open:c},r.a.createElement("label",{htmlFor:"calculate-odds-fn"},"Odds calculation"),r.a.createElement("textarea",{id:"caluclate-odds-fn",value:m,onChange:function(n){return f(n.currentTarget.value)}})),h&&r.a.createElement(X,null,r.a.createElement("h2",null,"Syntax Error"),r.a.createElement("p",null,h.message)))};function nn(){var n=Object(E.a)(["\n  ","\n"]);return nn=function(){return n},n}function en(){var n=Object(E.a)(["\n  display: grid;\n  grid-template-columns: max-content max-content;\n  grid-column-gap: 8px;\n\n  @media (max-width: 400px) {\n    grid-template-columns: max-content;\n    grid-row-gap: 4px;\n\n    > :not(:last-of-type) {\n      padding-bottom: 16px;\n      border-bottom: solid 1px #000;\n    }\n  }\n"]);return en=function(){return n},n}function tn(){var n=Object(E.a)(["\n  display: grid;\n  grid-template-columns: auto auto;\n  max-width: 400px;\n\n  dt {\n    text-align: left;\n  }\n\n  dd {\n    text-align: right;\n    font-weight: bold;\n  }\n"]);return tn=function(){return n},n}function an(){var n=Object(E.a)(["\n  background-color: #ff0000;\n  color: white;\n\n  pre {\n    text-align: left;\n  }\n"]);return an=function(){return n},n}function rn(){var n=Object(E.a)(["\n  background-color: #282c34;\n  color: white;\n"]);return rn=function(){return n},n}function on(){var n=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 32px 8px;\n\n  h2 {\n    margin-bottom: 16px;\n  }\n"]);return on=function(){return n},n}function cn(){var n=Object(E.a)(["\n  font-size: 24px;\n  margin: 0;\n"]);return cn=function(){return n},n}var un=g.a.h2(cn()),ln=g.a.section(on()),dn=Object(g.a)(ln)(rn()),sn=Object(g.a)(ln)(an()),mn=g.a.div(tn()),fn=g.a.div(en()),bn=Object(g.a)(P)(nn(),(function(n){return n.value&&"\n    background-color: #282c34;\n    color: white;\n  "})),pn={a:{cost:1,payout:1},b:{cost:1,payout:1}},hn={calculateOdds:function(){return Object.assign({},pn)}},En=function(n){function e(n,t){var a;return Object(m.a)(this,e),(a=Object(f.a)(this,Object(b.a)(e).call(this))).message=n,a.odds=t,a}return Object(p.a)(e,n),e}(Object(h.a)(Error)),gn=function(){var n=r.a.useState(hn),e=Object(s.a)(n,2),t=e[0],a=e[1],o=r.a.useState({a:[],b:[]}),c=Object(s.a)(o,2),u=c[0],l=c[1],m=r.a.useState(pn),f=Object(s.a)(m,2),b=f[0],p=f[1],h=r.a.useState(null),E=Object(s.a)(h,2),g=E[0],v=E[1],O=r.a.useState(!1),w=Object(s.a)(O,2),y=w[0],C=w[1];r.a.useEffect((function(){try{var n=t.calculateOdds(u,{fraction:x.a,sumPayout:j});!function(n){if(!n.a)throw new En('odds calculation function did not return a value for "a"',n);if("number"!==typeof n.a.cost)throw new En('odds calculation function did not return a number for "a.cost"',n);if("number"!==typeof n.a.payout)throw new En('odds calculation function did not return a number for "a.payout"',n);if(!n.b)throw new En('odds calculation function did not return a value for "b"',n);if("number"!==typeof n.b.cost)throw new En('odds calculation function did not return a number for "b.cost"',n);if("number"!==typeof n.b.payout)throw new En('odds calculation function did not return a number for "b.payout"',n)}(n),p(n),v(null)}catch(e){v(e)}}),[u,t]);return r.a.createElement(z,null,r.a.createElement(_,{settings:t,setSettings:a}),r.a.createElement("main",null,g&&r.a.createElement(sn,null,r.a.createElement("h2",null,"Execution Error"),r.a.createElement("p",null,g.message),g.odds&&r.a.createElement("pre",null,JSON.stringify(g.odds,null,2))),r.a.createElement(ln,null,r.a.createElement(un,null,"Bet"),r.a.createElement(bn,{value:y,onClick:function(){return C(!y)}},"Auto Bet"),y?r.a.createElement("h2",null,"Auto Bet coming soon\u2122"):r.a.createElement(W,{betOnA:function(){return l(Object(d.a)({},u,{a:[].concat(Object(i.a)(u.a),[{amount:1,odds:b.a}])}))},betOnB:function(){return l(Object(d.a)({},u,{b:[].concat(Object(i.a)(u.b),[{amount:1,odds:b.b}])}))},book:u,odds:b})),r.a.createElement(dn,null,r.a.createElement(un,null,"Outcomes"),r.a.createElement(mn,null,r.a.createElement("dt",null,"If A wins the house wins:"),r.a.createElement("dd",null,"$",function(n){return J(n.b)-j(n.a)}(u).toFixed(2)),r.a.createElement("dt",null,"If B wins the house has:"),r.a.createElement("dd",null,"$",function(n){return J(n.a)-j(n.b)}(u).toFixed(2)))),r.a.createElement(ln,null,r.a.createElement(fn,null,r.a.createElement(S,{name:"A",bets:u.a}),r.a.createElement(S,{name:"B",bets:u.b})))))},vn=function(){return r.a.createElement(u.a,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/"},r.a.createElement(gn,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(vn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.78965e5a.chunk.js.map